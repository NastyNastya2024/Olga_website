# Решение проблем с SPA админкой

## Проблема: Страница видео не отображается

### Симптомы
- При переходе на `/videos` страница пустая или показывает ошибку
- Функционал загрузки видео не работает
- В консоли браузера ошибки

### Решения

#### 1. Откройте правильный URL

**Неправильно:**
- `http://localhost:5500/admin/videos` ❌

**Правильно:**
- `http://localhost:5500/admin/index.html` ✅
- Затем кликните на "Видео" в меню

#### 2. Проверьте консоль браузера

Откройте DevTools (F12) и проверьте ошибки:
- Если есть ошибки импорта модулей
- Если есть ошибки "Cannot GET"
- Если есть ошибки JavaScript

#### 3. Проверьте что backend запущен

```bash
cd backend
npm start
```

Проверьте: http://localhost:5000/health

#### 4. Проверьте что MinIO запущен

```bash
docker-compose ps
```

Если не запущен:
```bash
docker-compose up -d minio
```

#### 5. Очистите кэш браузера

- Нажмите Ctrl+Shift+R (или Cmd+Shift+R на Mac)
- Или откройте в режиме инкогнито

#### 6. Проверьте пути к файлам

Убедитесь, что все скрипты загружаются:
- `scripts/router.js`
- `scripts/app.js`
- `scripts/pages/videos.js`

## Проблема: Функционал загрузки не работает

### Проверьте:

1. **Модальное окно открывается?**
   - Нажмите "Добавить видео"
   - Должно открыться модальное окно с формой

2. **Поле загрузки файла видно?**
   - В форме должно быть поле "Загрузить видео файл"

3. **Обработчик событий работает?**
   - Откройте консоль браузера
   - Выберите файл
   - Должны появиться сообщения в консоли

4. **API доступен?**
   - Проверьте: http://localhost:5000/api/upload
   - Должен вернуть ошибку метода (это нормально)

## Отладка

### Включите логирование

В консоли браузера выполните:

```javascript
// Проверьте что функции доступны
console.log('loadVideos:', typeof window.loadVideos);
console.log('showAddVideoModal:', typeof window.showAddVideoModal);

// Проверьте что форма существует
console.log('videoForm:', document.getElementById('videoForm'));
console.log('videoFile:', document.getElementById('videoFile'));
```

### Проверьте что страница загрузилась

```javascript
// Проверьте что контент загружен
console.log('videos-page:', document.getElementById('videos-page'));
console.log('videoModal:', document.getElementById('videoModal'));
```

## Частые ошибки

### "Cannot GET /admin/videos"
→ Откройте `admin/index.html` вместо прямого URL

### "Модальное окно не найдено"
→ Страница не загрузилась полностью, проверьте init()

### "Функция не определена"
→ Проверьте что функции экспортируются в window в init()

### "Ошибка загрузки файла"
→ Проверьте что backend запущен и доступен на порту 5000
