# Руководство по загрузке видео через админ-панель

## Как загрузить видео в S3 через админку

### Шаг 1: Откройте раздел "Видео"

1. Войдите в админ-панель: `admin/index.html`
2. Перейдите в раздел **"Видео"** в боковом меню
3. Нажмите кнопку **"Добавить видео"**

### Шаг 2: Загрузите видео файл

1. В форме добавления видео найдите поле **"Загрузить видео файл"**
2. Нажмите **"Выбрать файл"** или перетащите видео файл в поле
3. Дождитесь завершения загрузки (отображается прогресс-бар)
4. После успешной загрузки URL автоматически заполнится

### Шаг 3: Заполните информацию о видео

1. **Название** - автоматически заполняется из имени файла (можно изменить)
2. **Описание** - опционально
3. **URL видео** - заполняется автоматически после загрузки файла
4. **Статус** - выберите "Опубликовано" или "Скрыто"
5. **Тип доступа** - "Открыто" или "По подписке"

### Шаг 4: Сохраните

Нажмите кнопку **"Сохранить"** - видео будет добавлено в базу данных и станет доступным на сайте.

## Поддерживаемые форматы

- ✅ MP4 (.mp4)
- ✅ WebM (.webm)
- ✅ QuickTime (.mov)
- ✅ AVI (.avi)
- ✅ Matroska (.mkv)

## Ограничения

- **Максимальный размер файла:** 500 MB
- **Рекомендуемый формат:** MP4 для лучшей совместимости

## Что происходит при загрузке

1. Файл загружается на сервер
2. Автоматически определяется тип файла (видео)
3. Файл сохраняется в S3 (MinIO) в папку `videos/`
4. Генерируется публичный URL
5. URL автоматически заполняется в форме

## Альтернативный способ: указать URL вручную

Если видео уже загружено в S3 или находится на другом сервере:

1. Оставьте поле "Загрузить видео файл" пустым
2. Введите URL вручную в поле "Или укажите URL видео"
3. Заполните остальные поля и сохраните

## Troubleshooting

### Ошибка "Файл слишком большой"
- Убедитесь, что файл не превышает 500 MB
- Попробуйте сжать видео или использовать другой формат

### Ошибка "Неподдерживаемый тип файла"
- Убедитесь, что файл имеет одно из поддерживаемых расширений
- Попробуйте конвертировать видео в MP4

### Ошибка подключения к серверу
- Убедитесь, что backend запущен: `cd backend && npm start`
- Проверьте, что MinIO запущен: `docker-compose ps`

### Загрузка зависла
- Проверьте размер файла
- Проверьте подключение к интернету
- Обновите страницу и попробуйте снова

## Проверка загруженных файлов

После загрузки можно проверить файлы в MinIO Console:

1. Откройте: http://localhost:9001
2. Войдите: `minioadmin` / `minioadmin`
3. Перейдите в bucket `olga-media` → папка `videos/`
