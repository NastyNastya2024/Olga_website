# ะัะพัะผะพัั ัะฐะนะปะพะฒ ะฒ S3 (MinIO)

ะััั ะดะฒะฐ ัะฟะพัะพะฑะฐ ะฟะพัะผะพััะตัั, ะบะฐะบะธะต ัะฐะนะปั ะทะฐะณััะถะตะฝั ะฒ S3 (MinIO):

## ะกะฟะพัะพะฑ 1: MinIO Console (ะฒะตะฑ-ะธะฝัะตััะตะนั) โญ ะะตะบะพะผะตะฝะดัะตััั

### ะจะฐะณ 1: ะัะบัะพะนัะต MinIO Console

ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต: **http://localhost:9001**

### ะจะฐะณ 2: ะะพะนะดะธัะต

- **ะะพะณะธะฝ:** `minioadmin`
- **ะะฐัะพะปั:** `minioadmin`

### ะจะฐะณ 3: ะัะพัะผะพัั ัะฐะนะปะพะฒ

1. ะ ะปะตะฒะพะผ ะผะตะฝั ะฒัะฑะตัะธัะต bucket **`olga-media`**
2. ะั ัะฒะธะดะธัะต ะฒัะต ะฟะฐะฟะบะธ ะธ ัะฐะนะปั:
   - `videos/` - ะทะฐะณััะถะตะฝะฝัะต ะฒะธะดะตะพ
   - `images/` - ะทะฐะณััะถะตะฝะฝัะต ะธะทะพะฑัะฐะถะตะฝะธั
   - ะััะณะธะต ะฟะฐะฟะบะธ, ะตัะปะธ ะพะฝะธ ะตััั

### ะะพะทะผะพะถะฝะพััะธ MinIO Console

- โ ะัะพัะผะพัั ะฒัะตั ัะฐะนะปะพะฒ ั ัะฐะทะผะตัะฐะผะธ ะธ ะดะฐัะฐะผะธ
- โ ะะฐะณััะทะบะฐ ะฝะพะฒัั ัะฐะนะปะพะฒ ัะตัะตะท ะฒะตะฑ-ะธะฝัะตััะตะนั
- โ ะฃะดะฐะปะตะฝะธะต ัะฐะนะปะพะฒ
- โ ะกะบะฐัะธะฒะฐะฝะธะต ัะฐะนะปะพะฒ
- โ ะัะพัะผะพัั ะผะตัะฐะดะฐะฝะฝัั
- โ ะฃะฟัะฐะฒะปะตะฝะธะต bucket'ะฐะผะธ

## ะกะฟะพัะพะฑ 2: ะงะตัะตะท ัะบัะธะฟั (ะบะพะผะฐะฝะดะฝะฐั ัััะพะบะฐ)

### ะะฐะฟััะบ ัะบัะธะฟัะฐ

```bash
cd /Users/a1/Documents/GitHub/Olga_website
node scripts/list-s3-files.js
```

### ะงัะพ ะฟะพะบะฐะถะตั ัะบัะธะฟั

- ๐ฆ ะะฝัะพัะผะฐัะธั ะพ ะฟะพะดะบะปััะตะฝะธะธ (endpoint, bucket)
- ๐ ะกะฟะธัะพะบ ะฒัะตั ัะฐะนะปะพะฒ, ัะณััะฟะฟะธัะพะฒะฐะฝะฝัั ะฟะพ ะฟะฐะฟะบะฐะผ
- ๐ ะะฐะทะผะตั ะบะฐะถะดะพะณะพ ัะฐะนะปะฐ (KB/MB)
- ๐ ะะฐัะฐ ะฟะพัะปะตะดะฝะตะณะพ ะธะทะผะตะฝะตะฝะธั
- ๐ ะัะฑะปะธัะฝัะต URL ะดะปั ะดะพัััะฟะฐ ะบ ัะฐะนะปะฐะผ
- ๐ ะะฑัะฐั ััะฐัะธััะธะบะฐ (ะบะพะปะธัะตััะฒะพ ัะฐะนะปะพะฒ, ะพะฑัะธะน ัะฐะทะผะตั)

### ะัะธะผะตั ะฒัะฒะพะดะฐ

```
๐ฆ ะะพะดะบะปััะตะฝะธะต ะบ S3...
๐ Endpoint: http://localhost:9000
๐ชฃ Bucket: olga-media

โ ะะฐะนะดะตะฝะพ ัะฐะนะปะพะฒ: 15

๐ ะกะฟะธัะพะบ ัะฐะนะปะพะฒ:

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ videos/
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  ๐ video1.mp4
     ะะฐะทะผะตั: 125.50 MB | ะะฑะฝะพะฒะปะตะฝะพ: 15.01.2024, 10:30:00
     Key: videos/1234567890-video1.mp4

  ๐ video2.mp4
     ะะฐะทะผะตั: 98.25 MB | ะะฑะฝะพะฒะปะตะฝะพ: 15.01.2024, 11:15:00
     Key: videos/1234567891-video2.mp4

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ะกัะฐัะธััะธะบะฐ:
   ะัะตะณะพ ัะฐะนะปะพะฒ: 15
   ะะฑัะธะน ัะฐะทะผะตั: 1.25 GB (1.25 GB)

๐ ะัะธะผะตัั ะฟัะฑะปะธัะฝัั URL:
   http://localhost:9000/olga-media/videos/1234567890-video1.mp4
```

## ะัะพะฒะตัะบะฐ, ััะพ MinIO ะทะฐะฟััะตะฝ

ะะตัะตะด ะฟัะพัะผะพััะพะผ ัะฐะนะปะพะฒ ัะฑะตะดะธัะตัั, ััะพ MinIO ะทะฐะฟััะตะฝ:

```bash
docker-compose ps
```

ะัะปะธ MinIO ะฝะต ะทะฐะฟััะตะฝ:

```bash
docker-compose up -d minio
```

ะะพะดะพะถะดะธัะต ะฝะตัะบะพะปัะบะพ ัะตะบัะฝะด, ะทะฐัะตะผ ะพัะบัะพะนัะต http://localhost:9001

## ะัะฑะปะธัะฝัะต URL ัะฐะนะปะพะฒ

ะะพัะปะต ะฟัะพัะผะพััะฐ ัะฐะนะปะพะฒ ะฒั ะผะพะถะตัะต ะธัะฟะพะปัะทะพะฒะฐัั ะธั ะฟัะฑะปะธัะฝัะต URL:

**ะคะพัะผะฐั URL:**
```
http://localhost:9000/olga-media/{key}
```

**ะัะธะผะตัั:**
- ะะธะดะตะพ: `http://localhost:9000/olga-media/videos/1234567890-video.mp4`
- ะะทะพะฑัะฐะถะตะฝะธะต: `http://localhost:9000/olga-media/images/1234567890-photo.jpg`

ะญัะธ URL ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั:
- ะ ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ ะฟัะธ ะดะพะฑะฐะฒะปะตะฝะธะธ ะฒะธะดะตะพ/ะธะทะพะฑัะฐะถะตะฝะธะน
- ะะฐ ะฟัะฑะปะธัะฝะพะผ ัะฐะนัะต ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ะบะพะฝัะตะฝัะฐ
- ะะปั ะฟััะผะพะณะพ ะดะพัััะฟะฐ ะบ ัะฐะนะปะฐะผ

## ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะธะฑะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ MinIO

**ะัะพะฑะปะตะผะฐ:** ะกะบัะธะฟั ะฝะต ะผะพะถะตั ะฟะพะดะบะปััะธัััั ะบ MinIO

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต, ััะพ MinIO ะทะฐะฟััะตะฝ: `docker-compose ps`
2. ะัะพะฒะตัััะต ะฟะพัั 9000: `curl http://localhost:9000/minio/health/live`
3. ะฃะฑะตะดะธัะตัั, ััะพ ะฒ `.env` ะฟัะฐะฒะธะปัะฝัะน endpoint: `S3_ENDPOINT=http://localhost:9000`

### Bucket ะฝะต ะฝะฐะนะดะตะฝ

**ะัะพะฑะปะตะผะฐ:** ะัะธะฑะบะฐ "NoSuchBucket"

**ะะตัะตะฝะธะต:**
1. ะะฐะฟัััะธัะต ัะพะทะดะฐะฝะธะต bucket: `docker-compose up minio-setup`
2. ะะปะธ ัะพะทะดะฐะนัะต bucket ะฒัััะฝัั ัะตัะตะท MinIO Console

### ะคะฐะนะปั ะฝะต ะพัะพะฑัะฐะถะฐัััั

**ะัะพะฑะปะตะผะฐ:** ะ ะบะพะฝัะพะปะธ ะธะปะธ ัะบัะธะฟัะต ะฝะตั ัะฐะนะปะพะฒ

**ะะตัะตะฝะธะต:**
1. ะฃะฑะตะดะธัะตัั, ััะพ ัะฐะนะปั ะดะตะนััะฒะธัะตะปัะฝะพ ะทะฐะณััะถะตะฝั
2. ะัะพะฒะตัััะต ะฟัะฐะฒะธะปัะฝัะน bucket: `olga-media`
3. ะัะพะฒะตัััะต ะฟะฐะฟะบะธ: `videos/`, `images/`

## ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั

- **MinIO Console:** http://localhost:9001
- **S3 API:** http://localhost:9000
- **Bucket:** `olga-media`
- **ะฃัะตัะฝัะต ะดะฐะฝะฝัะต:** `minioadmin` / `minioadmin`

ะกะผ. ัะฐะบะถะต:
- [README_S3.md](./README_S3.md) - ะะพะดัะพะฑะฝะฐั ะธะฝัะพัะผะฐัะธั ะพ ัะฐะฑะพัะต ั S3
- [DEPLOYMENT.md](./DEPLOYMENT.md) - ะะฐะทะฒะตัััะฒะฐะฝะธะต MinIO
