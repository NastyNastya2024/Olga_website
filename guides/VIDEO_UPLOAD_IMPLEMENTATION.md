# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ](#—Ç–µ–∫—É—â–µ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
2. [–ß—Ç–æ —É–∂–µ –µ—Å—Ç—å](#—á—Ç–æ-—É–∂–µ-–µ—Å—Ç—å)
3. [–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å](#—á—Ç–æ-–Ω—É–∂–Ω–æ-–¥–æ–±–∞–≤–∏—Ç—å)
4. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Ä–µ—à–µ–Ω–∏—è)
5. [–î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–¥–µ—Ç–∞–ª—å–Ω—ã–π-–ø–ª–∞–Ω-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
6. [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
7. [API Endpoints](#api-endpoints)
8. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)

---

## üéØ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ S3**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≤–∏–¥–µ–æ —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–µ
   - –§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ S3 (MinIO) —á–µ—Ä–µ–∑ `/api/upload`
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
   - –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ URL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ

2. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏**
   - –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ
   - –ü–æ–ª–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º
   - –ü–æ–ª–µ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ URL
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞

3. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
   - S3 —Å–µ—Ä–≤–∏—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - Express —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
   - Multer middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ multipart/form-data
   - XMLHttpRequest –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### ‚ùå –ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∏–¥–µ–æ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
   - –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –≤ S3 –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
   - –ù–µ—Ç API endpoint –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤–∏–¥–µ–æ
   - –ù–µ—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º –∏ –∑–∞–ø–∏—Å—å—é –≤ –ë–î

2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ**
   - –ù–µ—Ç API endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ
   - –ù–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –∏–∑ –ë–î –≤ —Ç–∞–±–ª–∏—Ü—É –∞–¥–º–∏–Ω–∫–∏

3. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ**
   - –ù–µ—Ç API endpoints –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ
   - –ù–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤–∏–¥–µ–æ

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏
   - –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

---

## üèóÔ∏è –ß—Ç–æ —É–∂–µ –µ—Å—Ç—å

### 1. Frontend (–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)

**–§–∞–π–ª:** `admin/scripts/pages/videos.js`

**–¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ —Å –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º
- ‚úÖ –ü–æ–ª–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ (`<input type="file" id="videoFile">`)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ (`uploadProgress`, `progressFill`, `uploadStatus`)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ URL –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `change` –Ω–∞ –ø–æ–ª–µ —Ñ–∞–π–ª–∞
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `setupVideoForm()` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–æ—Ä–º—ã
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `loadVideos()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ (–Ω–æ –Ω–µ—Ç API)
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ `editVideo()`, `deleteVideo()` (–Ω–æ –Ω–µ—Ç API)

**–ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- `api.uploadFile('/upload', formData, onProgress)` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- `api.post('/admin/videos', data)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã (–Ω–æ endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- `api.get('/admin/videos')` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ (–Ω–æ endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

### 2. Backend - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

**–§–∞–π–ª:** `backend/routes/upload.js`

**–¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ POST `/api/upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ S3
- ‚úÖ Multer middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ (image/video)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–∞–ø–∫—É S3 (`images/` –∏–ª–∏ `videos/`)
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL —Ñ–∞–π–ª–∞

**–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
{
  "success": true,
  "message": "–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω",
  "data": {
    "url": "http://localhost:9000/olga-media/videos/1234567890-video.mp4",
    "key": "videos/1234567890-video.mp4",
    "fileName": "video.mp4",
    "publicUrl": "http://localhost:9000/olga-media/videos/1234567890-video.mp4"
  }
}
```

### 3. Backend - S3 –°–µ—Ä–≤–∏—Å

**–§–∞–π–ª:** `backend/services/s3-service.js`

**–¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ `uploadFile()` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ S3
- ‚úÖ `getFile()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ S3
- ‚úÖ `deleteFile()` - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ S3
- ‚úÖ `getPublicUrl()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL
- ‚úÖ `getPresignedUrl()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ URL
- ‚úÖ `fileExists()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
- ‚úÖ `listFiles()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ

### 4. API –ö–ª–∏–µ–Ω—Ç

**–§–∞–π–ª:** `shared/scripts/api.js`

**–¢–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ `uploadFile(endpoint, formData, onProgress)` - –∑–∞–≥—Ä—É–∑–∫–∞ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç XMLHttpRequest –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

### 5. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `database/migrations/001_initial_schema.sql`

**–¢–∞–±–ª–∏—Ü–∞ `videos`:**
- ‚úÖ `id` - –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- ‚úÖ `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ
- ‚úÖ `description` - –æ–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ `video_url` - URL –≤–∏–¥–µ–æ (–∏–∑ S3 –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π)
- ‚úÖ `status` - —Å—Ç–∞—Ç—É—Å (published/hidden)
- ‚úÖ `access_type` - —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ (open/subscription)
- ‚úÖ `created_at`, `updated_at` - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

**–ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- ‚ùå –ù–µ—Ç —Å–≤—è–∑–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–∫—Ç–æ –∑–∞–≥—Ä—É–∑–∏–ª)
- ‚ùå –ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤–∏–¥–µ–æ
- ‚ùå –ù–µ—Ç –ø–æ–ª—è –¥–ª—è –ø—Ä–µ–≤—å—é/–æ–±–ª–æ–∂–∫–∏
- ‚ùå –ù–µ—Ç –ø–æ–ª—è –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–∏–¥–µ–æ
- ‚ùå –ù–µ—Ç –ø–æ–ª—è –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞

---

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å

### 1. Backend API Endpoints

**–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å:** `backend/routes/videos.js`

**Endpoints:**
1. `GET /api/admin/videos` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∏–¥–µ–æ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É, —Ç–∏–ø—É –¥–æ—Å—Ç—É–ø–∞
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è

2. `GET /api/admin/videos/:id` - –ø–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ –≤–∏–¥–µ–æ –ø–æ ID
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∏–¥–µ–æ

3. `POST /api/admin/videos` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: title, description, video_url, status, access_type
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ

4. `PUT /api/admin/videos/:id` - –æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –≤–∏–¥–µ–æ
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ –∂–µ –ø–æ–ª—è —á—Ç–æ –∏ POST
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ë–î
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ

5. `DELETE /api/admin/videos/:id` - —É–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ
   - –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ S3
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

### 2. Backend Controller

**–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å:** `backend/controllers/videoController.js`

**–§—É–Ω–∫—Ü–∏–∏:**
- `getAllVideos(req, res)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
- `getVideoById(req, res)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ
- `createVideo(req, res)` - —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ
- `updateVideo(req, res)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ
- `deleteVideo(req, res)` - —É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ

**–õ–æ–≥–∏–∫–∞:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ repository/service
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

### 3. Backend Service/Repository

**–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å:** `backend/services/videoService.js` –∏–ª–∏ `backend/repositories/videoRepository.js`

**–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î:**
- `findAll(filters)` - –Ω–∞–π—Ç–∏ –≤—Å–µ –≤–∏–¥–µ–æ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `findById(id)` - –Ω–∞–π—Ç–∏ –ø–æ ID
- `create(data)` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å
- `update(id, data)` - –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
- `delete(id)` - —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:**
- PostgreSQL —á–µ—Ä–µ–∑ pg –∏–ª–∏ ORM (–µ—Å–ª–∏ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω)
- SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π `videos`

### 4. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å:** `backend/config/database.js` –∏–ª–∏ `backend/db/connection.js`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:**
- `pg` (node-postgres) –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Frontend

**–§–∞–π–ª:** `admin/scripts/pages/videos.js`

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:**

1. **–§—É–Ω–∫—Ü–∏—è `loadVideos()`**
   - –°–µ–π—á–∞—Å: –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É endpoint
   - –ù—É–∂–Ω–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint `GET /api/admin/videos`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. **–§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã**
   - –°–µ–π—á–∞—Å: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
   - –ù—É–∂–Ω–æ: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ URL –∑–∞–ø–æ–ª–Ω–µ–Ω
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ `POST /api/admin/videos`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

3. **–§—É–Ω–∫—Ü–∏—è `editVideo(id)`**
   - –°–µ–π—á–∞—Å: –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É endpoint
   - –ù—É–∂–Ω–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `GET /api/admin/videos/:id`
   - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –¥–∞–Ω–Ω—ã–º–∏
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ñ–æ—Ä–º—ã (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

4. **–§—É–Ω–∫—Ü–∏—è `deleteVideo(id)`**
   - –°–µ–π—á–∞—Å: –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É endpoint
   - –ù—É–∂–Ω–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `DELETE /api/admin/videos/:id`
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

5. **–£–ª—É—á—à–µ–Ω–∏—è UX**
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞
   - –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–∞—Ö
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
   - –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### 6. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**Backend:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (title, video_url)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ URL
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞ –∏ —Ç–∏–ø–∞ –¥–æ—Å—Ç—É–ø–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ñ–∞–π–ª)

**Frontend:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ URL
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### 7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**Backend:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ë–î
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

**Frontend:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –°–ª–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Frontend (–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)         ‚îÇ
‚îÇ  admin/scripts/pages/videos.js          ‚îÇ
‚îÇ  - –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏                       ‚îÇ
‚îÇ  - –°–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ                         ‚îÇ
‚îÇ  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ HTTP –∑–∞–ø—Ä–æ—Å—ã
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         API Layer (Express)             ‚îÇ
‚îÇ  backend/routes/videos.js                ‚îÇ
‚îÇ  - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è                        ‚îÇ
‚îÇ  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Controller Layer                ‚îÇ
‚îÇ  backend/controllers/videoController.js ‚îÇ
‚îÇ  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏              ‚îÇ
‚îÇ  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Service/Repository Layer        ‚îÇ
‚îÇ  backend/services/videoService.js       ‚îÇ
‚îÇ  - –†–∞–±–æ—Ç–∞ —Å –ë–î                          ‚îÇ
‚îÇ  - SQL –∑–∞–ø—Ä–æ—Å—ã                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Database (PostgreSQL)            ‚îÇ
‚îÇ  –¢–∞–±–ª–∏—Ü–∞: videos                        ‚îÇ
‚îÇ  - –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         S3 Storage (MinIO)              ‚îÇ
‚îÇ  –ü–∞–ø–∫–∞: videos/                         ‚îÇ
‚îÇ  - –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤–∏–¥–µ–æ                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–∞–π–ª
   ‚Üì
2. Frontend: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ S3
   POST /api/upload
   ‚Üì
3. Backend: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤ S3
   s3Service.uploadFile()
   ‚Üì
4. Backend: –í–æ–∑–≤—Ä–∞—Ç URL —Ñ–∞–π–ª–∞
   { publicUrl: "http://..." }
   ‚Üì
5. Frontend: –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ URL –≤ —Ñ–æ—Ä–º–µ
   ‚Üì
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
   ‚Üì
7. Frontend: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
   POST /api/admin/videos
   { title, description, video_url, status, access_type }
   ‚Üì
8. Backend: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   ‚Üì
9. Backend: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
   videoService.create()
   ‚Üì
10. Backend: –í–æ–∑–≤—Ä–∞—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ
    { id, title, video_url, ... }
    ‚Üì
11. Frontend: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
    loadVideos()
```

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

**–§–∞–π–ª:** `backend/config/database.js`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `pg` (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
2. –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
5. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
- `DB_HOST` - —Ö–æ—Å—Ç –ë–î (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é localhost)
- `DB_PORT` - –ø–æ—Ä—Ç –ë–î (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5432)
- `DB_NAME` - –∏–º—è –ë–î (olga_website)
- `DB_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (postgres)
- `DB_PASSWORD` - –ø–∞—Ä–æ–ª—å (postgres)

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ Service/Repository —Å–ª–æ—è

**–§–∞–π–ª:** `backend/services/videoService.js`

**–§—É–Ω–∫—Ü–∏–∏:**
1. `async findAll(filters = {})`
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã: status, access_type, limit, offset
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL: `SELECT * FROM videos WHERE ... ORDER BY created_at DESC`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤–∏–¥–µ–æ

2. `async findById(id)`
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL: `SELECT * FROM videos WHERE id = $1`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ –≤–∏–¥–µ–æ –∏–ª–∏ null

3. `async create(data)`
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: { title, description, video_url, status, access_type }
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL: `INSERT INTO videos (...) VALUES (...) RETURNING *`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ

4. `async update(id, data)`
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ –∂–µ –ø–æ–ª—è —á—Ç–æ –∏ create
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL: `UPDATE videos SET ... WHERE id = $1 RETURNING *`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤–∏–¥–µ–æ

5. `async delete(id)`
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL: `DELETE FROM videos WHERE id = $1`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –û—à–∏–±–∫–∏ –ë–î ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ + –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Üí –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

### –≠—Ç–∞–ø 3: –°–æ–∑–¥–∞–Ω–∏–µ Controller —Å–ª–æ—è

**–§–∞–π–ª:** `backend/controllers/videoController.js`

**–§—É–Ω–∫—Ü–∏–∏:**
1. `async getAllVideos(req, res)`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (status, access_type, page, limit)
   - –í—ã–∑–æ–≤ videoService.findAll()
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. `async getVideoById(req, res)`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ id –∏–∑ params
   - –í—ã–∑–æ–≤ videoService.findById()
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞

3. `async createVideo(req, res)`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (title, video_url –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã)
   - –í—ã–∑–æ–≤ videoService.create()
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (201 Created)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

4. `async updateVideo(req, res)`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ id –∏–∑ params
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –í—ã–∑–æ–≤ videoService.update()
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞

5. `async deleteVideo(req, res)`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ id –∏–∑ params
   - –í—ã–∑–æ–≤ videoService.delete()
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (200 OK)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (404 –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ)

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `joi` –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ URL
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π enum –ø–æ–ª–µ–π

### –≠—Ç–∞–ø 4: –°–æ–∑–¥–∞–Ω–∏–µ Routes

**–§–∞–π–ª:** `backend/routes/videos.js`

**–ú–∞—Ä—à—Ä—É—Ç—ã:**
```javascript
router.get('/', videoController.getAllVideos);
router.get('/:id', videoController.getVideoById);
router.post('/', videoController.createVideo);
router.put('/:id', videoController.updateVideo);
router.delete('/:id', videoController.deleteVideo);
```

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ `backend/index.js`:**
```javascript
const videoRoutes = require('./routes/videos');
app.use('/api/admin/videos', videoRoutes);
```

### –≠—Ç–∞–ø 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Frontend

**–§–∞–π–ª:** `admin/scripts/pages/videos.js`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–§—É–Ω–∫—Ü–∏—è `loadVideos()`**
   ```javascript
   async function loadVideos() {
     try {
       const response = await api.get('/admin/videos');
       const videos = response.data || response;
       // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
     } catch (error) {
       // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
     }
   }
   ```

2. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã `setupVideoForm()`**
   - –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –≤ S3
   - –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ URL –∑–∞–ø–æ–ª–Ω–µ–Ω
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ `POST /api/admin/videos`
   - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ: –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ, –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ: –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

3. **–§—É–Ω–∫—Ü–∏—è `editVideo(id)`**
   - –ó–∞–ø—Ä–æ—Å `GET /api/admin/videos/:id`
   - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –¥–∞–Ω–Ω—ã–º–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `currentVideoId = id`
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

4. **–§—É–Ω–∫—Ü–∏—è `deleteVideo(id)`**
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
   - –ó–∞–ø—Ä–æ—Å `DELETE /api/admin/videos/:id`
   - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ: –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ: –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

5. **–£–ª—É—á—à–µ–Ω–∏—è UX**
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–ø–∏—Å–∫–∞
   - Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–∞—Ö
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
   - –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### –≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**

1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ S3**
   - –í—ã–±–æ—Ä —Ñ–∞–π–ª–∞ ‚Üí –ø—Ä–æ–≥—Ä–µ—Å—Å ‚Üí —É—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
   - –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ URL –∏ –Ω–∞–∑–≤–∞–Ω–∏—è

2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ**
   - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Üí –ø–æ—è–≤–ª–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–∫–µ

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ

4. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ö–ª–∏–∫ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" ‚Üí –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–∫–µ

5. **–£–¥–∞–ª–µ–Ω–∏–µ**
   - –ö–ª–∏–∫ "–£–¥–∞–ª–∏—Ç—å" ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ ‚Üí –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞

6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ ‚Üí —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ ‚Üí —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
   - –û—à–∏–±–∫–∞ –ë–î ‚Üí —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ

```
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å]
    ‚îÇ
    ‚îú‚îÄ‚Üí –í—ã–±–∏—Ä–∞–µ—Ç —Ñ–∞–π–ª
    ‚îÇ   ‚îÇ
    ‚îÇ   ‚îî‚îÄ‚Üí [Frontend] setupVideoForm() ‚Üí addEventListener('change')
    ‚îÇ       ‚îÇ
    ‚îÇ       ‚îú‚îÄ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
    ‚îÇ       ‚îÇ
    ‚îÇ       ‚îú‚îÄ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ FormData
    ‚îÇ       ‚îÇ
    ‚îÇ       ‚îî‚îÄ‚Üí api.uploadFile('/upload', formData, onProgress)
    ‚îÇ           ‚îÇ
    ‚îÇ           ‚îî‚îÄ‚Üí [Backend] POST /api/upload
    ‚îÇ               ‚îÇ
    ‚îÇ               ‚îú‚îÄ‚Üí Multer –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª
    ‚îÇ               ‚îÇ
    ‚îÇ               ‚îú‚îÄ‚Üí s3Service.uploadFile()
    ‚îÇ               ‚îÇ   ‚îÇ
    ‚îÇ               ‚îÇ   ‚îî‚îÄ‚Üí [S3] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
    ‚îÇ               ‚îÇ
    ‚îÇ               ‚îî‚îÄ‚Üí –í–æ–∑–≤—Ä–∞—Ç { publicUrl: "..." }
    ‚îÇ
    ‚îú‚îÄ‚Üí –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ URL –∏ –Ω–∞–∑–≤–∞–Ω–∏—è
    ‚îÇ
    ‚îú‚îÄ‚Üí –ó–∞–ø–æ–ª–Ω—è–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã
    ‚îÇ
    ‚îî‚îÄ‚Üí –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
        ‚îÇ
        ‚îî‚îÄ‚Üí [Frontend] form.addEventListener('submit')
            ‚îÇ
            ‚îú‚îÄ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
            ‚îÇ
            ‚îú‚îÄ‚Üí –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö: { title, description, video_url, status, access_type }
            ‚îÇ
            ‚îî‚îÄ‚Üí api.post('/admin/videos', data)
                ‚îÇ
                ‚îî‚îÄ‚Üí [Backend] POST /api/admin/videos
                    ‚îÇ
                    ‚îú‚îÄ‚Üí [Controller] videoController.createVideo()
                    ‚îÇ   ‚îÇ
                    ‚îÇ   ‚îú‚îÄ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
                    ‚îÇ   ‚îÇ
                    ‚îÇ   ‚îî‚îÄ‚Üí [Service] videoService.create(data)
                    ‚îÇ       ‚îÇ
                    ‚îÇ       ‚îî‚îÄ‚Üí [Database] INSERT INTO videos
                    ‚îÇ
                    ‚îî‚îÄ‚Üí –í–æ–∑–≤—Ä–∞—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ
                        ‚îÇ
                        ‚îî‚îÄ‚Üí [Frontend] –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
                            ‚îÇ
                            ‚îî‚îÄ‚Üí loadVideos() ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ

```
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É]
    ‚îÇ
    ‚îî‚îÄ‚Üí [Frontend] VideosPage.init()
        ‚îÇ
        ‚îî‚îÄ‚Üí loadVideos()
            ‚îÇ
            ‚îî‚îÄ‚Üí api.get('/admin/videos')
                ‚îÇ
                ‚îî‚îÄ‚Üí [Backend] GET /api/admin/videos
                    ‚îÇ
                    ‚îú‚îÄ‚Üí [Controller] videoController.getAllVideos()
                    ‚îÇ   ‚îÇ
                    ‚îÇ   ‚îî‚îÄ‚Üí [Service] videoService.findAll()
                    ‚îÇ       ‚îÇ
                    ‚îÇ       ‚îî‚îÄ‚Üí [Database] SELECT * FROM videos
                    ‚îÇ
                    ‚îî‚îÄ‚Üí –í–æ–∑–≤—Ä–∞—Ç –º–∞—Å—Å–∏–≤–∞ –≤–∏–¥–µ–æ
                        ‚îÇ
                        ‚îî‚îÄ‚Üí [Frontend] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
```

---

## üì° API Endpoints

### GET /api/admin/videos

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∏–¥–µ–æ

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `status` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (published/hidden)
- `access_type` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–æ—Å—Ç—É–ø–∞ (open/subscription)
- `page` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- `limit` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
      "video_url": "http://localhost:9000/olga-media/videos/123.mp4",
      "status": "published",
      "access_type": "open",
      "created_at": "2024-01-18T10:00:00Z",
      "updated_at": "2024-01-18T10:00:00Z"
    }
  ],
  "total": 10,
  "page": 1,
  "limit": 20
}
```

### GET /api/admin/videos/:id

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ –≤–∏–¥–µ–æ –ø–æ ID

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
    "video_url": "http://localhost:9000/olga-media/videos/123.mp4",
    "status": "published",
    "access_type": "open",
    "created_at": "2024-01-18T10:00:00Z",
    "updated_at": "2024-01-18T10:00:00Z"
  }
}
```

### POST /api/admin/videos

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
  "video_url": "http://localhost:9000/olga-media/videos/123.mp4",
  "status": "published",
  "access_type": "open"
}
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `title` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, —Å—Ç—Ä–æ–∫–∞, –º–∏–Ω–∏–º—É–º 1 —Å–∏–º–≤–æ–ª
- `video_url` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –≤–∞–ª–∏–¥–Ω—ã–π URL
- `status` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ–¥–Ω–æ –∏–∑: published, hidden
- `access_type` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ–¥–Ω–æ –∏–∑: open, subscription
- `description` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Å—Ç—Ä–æ–∫–∞

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "–í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ",
  "data": {
    "id": 1,
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ",
    ...
  }
}
```

### PUT /api/admin/videos/:id

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –≤–∏–¥–µ–æ

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:** –¢–æ –∂–µ —á—Ç–æ –∏ POST

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "–í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ",
  "data": {
    "id": 1,
    "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
    ...
  }
}
```

### DELETE /api/admin/videos/:id

**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "–í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ"
}
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ videos

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```sql
CREATE TABLE videos (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    video_url VARCHAR(500) NOT NULL,
    status VARCHAR(20) DEFAULT 'published',
    access_type VARCHAR(20) DEFAULT 'open',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**–ò–Ω–¥–µ–∫—Å—ã:**
- `idx_videos_status` –Ω–∞ `status` (–¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- `idx_videos_access_type` –Ω–∞ `access_type` (–¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- `idx_videos_created_at` –Ω–∞ `created_at` (–¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏)

**–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:**
- `status`: 'published' | 'hidden'
- `access_type`: 'open' | 'subscription'

### SQL –ó–∞–ø—Ä–æ—Å—ã

**–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–∏–¥–µ–æ:**
```sql
SELECT * FROM videos 
WHERE ($1::varchar IS NULL OR status = $1)
  AND ($2::varchar IS NULL OR access_type = $2)
ORDER BY created_at DESC
LIMIT $3 OFFSET $4;
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ:**
```sql
SELECT * FROM videos WHERE id = $1;
```

**–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ:**
```sql
INSERT INTO videos (title, description, video_url, status, access_type)
VALUES ($1, $2, $3, $4, $5)
RETURNING *;
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ:**
```sql
UPDATE videos
SET title = $1,
    description = $2,
    video_url = $3,
    status = $4,
    access_type = $5,
    updated_at = CURRENT_TIMESTAMP
WHERE id = $6
RETURNING *;
```

**–£–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ:**
```sql
DELETE FROM videos WHERE id = $1;
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚ùå –ù–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–≤—Å–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ —Ç–æ–∫–µ–Ω–∞)
- ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚ùå –ù–µ—Ç rate limiting

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å (–≤ –±—É–¥—É—â–µ–º)
- Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (admin/editor)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
- Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –≤–∏–¥–µ–æ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è S3 (—Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (MVP)
1. ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
2. ‚úÖ Service —Å–ª–æ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
3. ‚úÖ Controller —Å–ª–æ–π
4. ‚úÖ Routes –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ Express
5. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Frontend –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
3. –£–ª—É—á—à–µ–Ω–∏–µ UX (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è)

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–±—É–¥—É—â–µ–µ)
1. –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ
2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
3. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
4. –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ S3 –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≤–∏–¥–µ–æ
5. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
6. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–∏–¥–µ–æ
7. –ü—Ä–µ–≤—å—é/–æ–±–ª–æ–∂–∫–∏ –≤–∏–¥–µ–æ
8. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ä–∞–∑–º–µ—Ä)

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Backend
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `pg` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- [ ] –°–æ–∑–¥–∞—Ç—å `backend/config/database.js` —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î
- [ ] –°–æ–∑–¥–∞—Ç—å `backend/services/videoService.js` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- [ ] –°–æ–∑–¥–∞—Ç—å `backend/controllers/videoController.js` —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å `backend/routes/videos.js` —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å routes –≤ `backend/index.js`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ endpoints

### Frontend
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `loadVideos()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `editVideo()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `deleteVideo()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–∞—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2024-01-18  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
