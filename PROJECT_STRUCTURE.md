# Структура проекта

## Общая организация

```
Olga_website/
├── public/              # Публичная часть сайта
├── admin/               # Админ-панель
├── backend/             # Backend API
├── shared/              # Общие ресурсы
├── database/            # Скрипты БД
└── docker-compose.yml   # Docker конфигурация
```

## Детальная структура

### public/ - Публичная часть сайта

```
public/
├── index.html           # Главная страница
├── videos.html          # Страница видео
├── tours.html           # Страница туров
├── club.html            # Страница клуба
├── blog.html            # Страница блога
├── styles.css           # Стили публичной части
└── scripts/             # Скрипты публичной части
    └── videos.js        # Загрузка видео
```

**Назначение:** Публичные HTML страницы для обычных посетителей сайта.

### admin/ - Админ-панель

```
admin/
├── login.html           # Страница авторизации
├── dashboard.html       # Дашборд
├── videos.html          # Управление видео
├── students.html        # Управление учениками
├── tours.html           # Управление турами (только админ)
├── blog.html            # Управление блогом (только админ)
├── styles/
│   ├── admin.css        # Основные стили админки
│   └── modal.css        # Стили модальных окон
└── scripts/
    ├── login.js         # Авторизация
    ├── dashboard.js     # Дашборд
    ├── videos.js        # Управление видео
    ├── students.js      # Управление учениками
    ├── tours.js         # Управление турами
    └── blog.js          # Управление блогом
```

**Назначение:** Интерфейс административной панели с разделением доступа по ролям.

**Доступ:**
- **Обычный пользователь:** Видит только свой профиль и доступные видео
- **Админ:** Полный доступ ко всем разделам

### backend/ - Backend API

```
backend/
├── index.js             # Точка входа сервера
├── package.json         # Зависимости
├── config/
│   └── s3-config.js     # Конфигурация S3
├── routes/
│   ├── public/          # Публичные роуты
│   │   ├── videos.js
│   │   ├── tours.js
│   │   └── blog.js
│   └── admin/           # Админские роуты
│       ├── auth.js
│       ├── videos.js
│       ├── users.js
│       ├── tours.js
│       └── blog.js
├── controllers/         # Контроллеры
├── services/            # Бизнес-логика
│   └── s3-service.js    # Сервис работы с S3
└── middleware/          # Middleware
    ├── auth.js          # Проверка авторизации
    └── roles.js         # Проверка ролей
```

**Назначение:** REST API для фронтенда и админки.

### shared/ - Общие ресурсы

```
shared/
├── styles/
│   └── common.css       # Общие стили
└── scripts/
    ├── api.js           # API клиент
    └── auth.js          # Утилиты авторизации
```

**Назначение:** Общие стили и скрипты, используемые в публичной части и админке.

## Функционал по разделам

### Раздел "Видео"

**Публичная часть:**
- Просмотр доступных видео (все пользователи)

**Админка:**
- **Обычный пользователь:** Просмотр доступных видео
- **Админ:** Просмотр всех видео + добавление новых

### Раздел "Ученики"

**Админка:**
- **Обычный пользователь:** 
  - Просмотр своего профиля
  - Редактирование: имя, email, телефон, фото
- **Админ:**
  - Просмотр всех пользователей
  - Просмотр тарифов
  - Просмотр дат регистрации
  - Просмотр паролей (хэшированных)
  - Редактирование пользователей

### Раздел "Туры"

**Админка:**
- **Только админ:**
  - Добавление туров
  - Редактирование описания тура
  - Загрузка фото в галерею
  - Управление датами и локациями

### Раздел "Блог"

**Админка:**
- **Только админ:**
  - Добавление статей
  - Редактирование статей
  - Загрузка обложек
  - Управление SEO полями

## API Endpoints

### Публичные (public/)

- `GET /api/public/videos` - Список доступных видео
- `GET /api/public/tours` - Список туров
- `GET /api/public/blog` - Список статей блога

### Админские (admin/)

**Авторизация:**
- `POST /api/admin/auth/login` - Вход
- `POST /api/admin/auth/logout` - Выход

**Видео:**
- `GET /api/admin/videos` - Список всех видео
- `POST /api/admin/videos` - Добавить видео (только админ)
- `PUT /api/admin/videos/:id` - Редактировать видео (только админ)
- `DELETE /api/admin/videos/:id` - Удалить видео (только админ)

**Пользователи:**
- `GET /api/admin/users` - Список пользователей (только админ)
- `GET /api/admin/users/me` - Мой профиль
- `PUT /api/admin/users/me` - Обновить профиль
- `PUT /api/admin/users/:id` - Обновить пользователя (только админ)
- `DELETE /api/admin/users/:id` - Удалить пользователя (только админ)

**Туры:**
- `GET /api/admin/tours` - Список туров (только админ)
- `POST /api/admin/tours` - Добавить тур (только админ)
- `PUT /api/admin/tours/:id` - Редактировать тур (только админ)
- `DELETE /api/admin/tours/:id` - Удалить тур (только админ)

**Блог:**
- `GET /api/admin/blog` - Список статей (только админ)
- `POST /api/admin/blog` - Добавить статью (только админ)
- `PUT /api/admin/blog/:id` - Редактировать статью (только админ)
- `DELETE /api/admin/blog/:id` - Удалить статью (только админ)

## Безопасность

- JWT токены для авторизации
- Проверка ролей на уровне middleware
- Разделение публичных и админских роутов
- Хэширование паролей (bcrypt)

## Запуск проекта

1. Запустить инфраструктуру:
```bash
docker-compose up -d
```

2. Запустить backend:
```bash
cd backend
npm install
npm start
```

3. Открыть в браузере:
- Публичная часть: `public/index.html`
- Админка: `admin/login.html`
